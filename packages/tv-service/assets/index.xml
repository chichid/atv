<?xml version="1.0" encoding="UTF-8"?>
<atv>
  <head>
    <script src="{{config.BaseUrl}}/assets/utils.js" />
  </head>
  <body>
    <listScrollerSplit id="listScoller">
      <header>
        <simpleHeader accessibilityLabel="Movie list">
          <title>Canaux</title>
        </simpleHeader>
      </header>
      <menu id="mainMenu">
        <sections>
          <menuSection id="channelGroupsMenuSection">
            <items>
              {{#each groups}}
              <oneLineMenuItem id="{{groupName}}">
                <label>{{groupName}}</label>
                <preview>
                  <scrollerPreview id="scrollerPreview-{{groupName}}">
                    <items>
                      <grid id="channelsGrid-{{groupName}}" columnCount="4">
                        <items>
                          {{#each channels}}
                          <sixteenByNinePoster id="{{channelName}}" alwaysShowTitles="true" 
                            onSelect="playVideo('{{streamURL}}')"
                            onHoldSelect="atv.loadURL('{{@root.config.BaseUrl}}/assets/templates/epg.xml?epgChannel={{channelNameEncoded}}')">
                            <title>{{#if timeshiftURL}}*{{/if}} {{channelName}}</title>
                            <image src720="{{logoURL}}" src1080="{{logoURL}}" />
                            <defaultImage>resource://16x9.png</defaultImage>
                          </sixteenByNinePoster>
                          {{/each}}
                        </items>
                      </grid>
                    </items>
                  </scrollerPreview>
                </preview>
              </oneLineMenuItem>
              {{/each}}
            </items>
          </menuSection>
        </sections>
      </menu>
    </listScrollerSplit>
  </body>
</atv>
